<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â≠∏‰∏≠Êñá - Learn Traditional Chinese</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">Â≠∏‰∏≠Êñá <span class="subtitle">Learn Traditional Chinese</span></h1>
            <div class="score-board">
                <div class="score">Score: <span id="score">0</span></div>
                <div class="streak">Streak: <span id="streak">0</span></div>
            </div>
        </header>

        <!-- Menu Screen -->
        <div id="menu" class="menu-screen">
            <div class="welcome">
                <h2>Easy Chinese Learning!</h2>
                <p>Learn Traditional Chinese at your own pace - no pressure, lots of fun! üòä</p>
                
                <div class="pronunciation-toggle">
                    <button id="pronunciation-toggle" class="toggle-btn">
                        <span class="toggle-icon">Ê≥®</span>
                        <span class="toggle-text">Zhuyin (Ê≥®Èü≥)</span>
                        <span class="toggle-switch">‚áÑ</span>
                    </button>
                </div>

                <!-- Menu Navigation Tabs -->
                <div class="menu-navigation">
                    <button class="nav-tab active" data-section="game-modes">üéÆ Games</button>
                    <button class="nav-tab" data-section="achievements">üèÜ Achievements</button>
                    <button class="nav-tab" data-section="save-load">üíæ Save/Load</button>
                </div>
            </div>
            
            <!-- Game Modes Section -->
            <div id="game-modes" class="menu-section active">
                <div class="game-modes">
                    <div class="game-card" data-mode="character-recognition">
                        <div class="card-icon">Êº¢</div>
                        <h3>Character Recognition</h3>
                        <p>Learn basic characters with simple words</p>
                        <div class="difficulty">Easy Start</div>
                    </div>
                    
                    <div class="game-card" data-mode="zhuyin-practice">
                        <div class="card-icon">Ê≥®</div>
                        <h3>Zhuyin Practice</h3>
                        <p>Practice pronunciation with plenty of time</p>
                        <div class="difficulty">Easy Start</div>
                    </div>
                    
                    <div class="game-card" data-mode="vocabulary-builder">
                        <div class="card-icon">Ë©û</div>
                        <h3>Vocabulary Builder</h3>
                        <p>Simple everyday phrases like "hello"</p>
                        <div class="difficulty">Getting Better</div>
                    </div>
                    
                    <div class="game-card" data-mode="stroke-order">
                        <div class="card-icon">Á≠Ü</div>
                        <h3>Stroke Order</h3>
                        <p>Easy tracing - any drawing counts!</p>
                        <div class="difficulty">Getting Better</div>
                    </div>
                    
                    <div class="game-card" data-mode="sentence-scramble">
                        <div class="card-icon">Âè•</div>
                        <h3>Sentence Scramble</h3>
                        <p>Put simple sentences together</p>
                        <div class="difficulty">Challenge Me</div>
                    </div>
                    
                    <div class="game-card" data-mode="similar-characters">
                        <div class="card-icon">Ëæ®</div>
                        <h3>Similar Characters</h3>
                        <p>Learn basic character differences</p>
                        <div class="difficulty">Challenge Me</div>
                    </div>
                </div>
            </div>

            <!-- Achievements Section -->
            <div id="achievements-menu" class="menu-section">
                <div class="achievements-container">
                    <h2>üèÜ Your Achievements</h2>
                    
                    <!-- Progress Overview -->
                    <div class="progress-overview">
                        <div class="stat-card">
                            <div class="stat-number" id="total-games">0</div>
                            <div class="stat-label">Games Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-score">0</div>
                            <div class="stat-label">Total Score</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="best-streak-stat">0</div>
                            <div class="stat-label">Best Streak</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="achievements-unlocked">0</div>
                            <div class="stat-label">Achievements</div>
                        </div>
                    </div>

                    <!-- Achievement Categories -->
                    <div class="achievements-grid">
                        <div class="achievement-category">
                            <h3>üéØ Progress Milestones</h3>
                            <div id="progress-achievements" class="achievements-list">
                                <!-- Progress achievements will be populated here -->
                            </div>
                        </div>
                        
                        <div class="achievement-category">
                            <h3>‚≠ê Performance Awards</h3>
                            <div id="performance-achievements" class="achievements-list">
                                <!-- Performance achievements will be populated here -->
                            </div>
                        </div>
                        
                        <div class="achievement-category">
                            <h3>üéÆ Game Mastery</h3>
                            <div id="mastery-achievements" class="achievements-list">
                                <!-- Mastery achievements will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Achievement Details -->
                    <div class="achievement-details">
                        <h3>üí° How to Unlock More Achievements</h3>
                        <div class="tips-grid">
                            <div class="tip-card">
                                <span class="tip-icon">üéØ</span>
                                <div class="tip-content">
                                    <strong>Play Regularly</strong>
                                    <p>Complete games to unlock progress milestones</p>
                                </div>
                            </div>
                            <div class="tip-card">
                                <span class="tip-icon">‚ö°</span>
                                <div class="tip-content">
                                    <strong>Build Streaks</strong>
                                    <p>Answer questions correctly in a row</p>
                                </div>
                            </div>
                            <div class="tip-card">
                                <span class="tip-icon">üé®</span>
                                <div class="tip-content">
                                    <strong>Try All Games</strong>
                                    <p>Master different game modes for special badges</p>
                                </div>
                            </div>
                            <div class="tip-card">
                                <span class="tip-icon">üéØ</span>
                                <div class="tip-content">
                                    <strong>Perfect Scores</strong>
                                    <p>Get 100% accuracy for performance awards</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Save/Load Section -->
            <div id="save-load-menu" class="menu-section">
                <div class="save-load-container">
                    <h2>üíæ Save & Load Progress</h2>
                    
                    <!-- Current Progress Summary -->
                    <div class="current-progress-summary">
                        <h3>üìä Current Progress</h3>
                        <div class="progress-summary-grid">
                            <div class="summary-item">
                                <span class="summary-label">Games Completed:</span>
                                <span class="summary-value" id="save-games-completed">0</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Total Score:</span>
                                <span class="summary-value" id="save-total-score">0</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Best Streak:</span>
                                <span class="summary-value" id="save-best-streak">0</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Achievements:</span>
                                <span class="summary-value" id="save-achievements-count">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Save/Load Actions -->
                    <div class="save-load-actions">
                        <div class="action-section">
                            <h3>üíæ Generate Save Code</h3>
                            <p>Generate a save code that you can copy and paste to backup your progress.</p>
                            <button id="export-save-btn" class="action-btn export-btn">
                                <span class="btn-icon">üî¢</span>
                                <span class="btn-text">Generate Save Code</span>
                            </button>
                            <div id="save-code-display" class="save-code-container" style="display: none;">
                                <label for="save-code-text">Your Save Code:</label>
                                <textarea id="save-code-text" class="save-code-text" readonly rows="4" placeholder="Your save code will appear here..."></textarea>
                                <button id="copy-save-code" class="action-btn copy-btn">
                                    <span class="btn-icon">üìã</span>
                                    <span class="btn-text">Copy to Clipboard</span>
                                </button>
                            </div>
                        </div>

                        <div class="action-section">
                            <h3>üìÅ Load from Save Code</h3>
                            <p>Paste a save code to restore your progress. This will replace your current progress.</p>
                            <div class="import-section">
                                <label for="import-code-text">Paste Save Code:</label>
                                <textarea id="import-code-text" class="save-code-text" rows="4" placeholder="Paste your save code here..."></textarea>
                                <button id="import-save-btn" class="action-btn import-btn">
                                    <span class="btn-icon">‚¨ÜÔ∏è</span>
                                    <span class="btn-text">Load Progress</span>
                                </button>
                                <div id="import-feedback" class="import-feedback"></div>
                            </div>
                        </div>

                        <div class="action-section danger-section">
                            <h3>üóëÔ∏è Reset Progress</h3>
                            <p class="danger-text">‚ö†Ô∏è This will permanently delete all your progress, scores, and achievements. This cannot be undone!</p>
                            <button id="reset-progress-btn" class="action-btn danger-btn">
                                <span class="btn-icon">üóëÔ∏è</span>
                                <span class="btn-text">Reset All Progress</span>
                            </button>
                        </div>
                    </div>

                    <!-- Save/Load Information -->
                    <div class="save-load-info">
                        <h3>üí° How It Works</h3>
                        <div class="info-grid">
                            <div class="info-card">
                                <span class="info-icon">üíæ</span>
                                <div class="info-content">
                                    <strong>Automatic Saving</strong>
                                    <p>Your progress is automatically saved to your browser. No manual saving needed during normal play!</p>
                                </div>
                            </div>
                            <div class="info-card">
                                <span class="info-icon">üî¢</span>
                                <div class="info-content">
                                    <strong>Save Code</strong>
                                    <p>Generate a unique code to backup your progress. Copy and save it somewhere safe for easy sharing!</p>
                                </div>
                            </div>
                            <div class="info-card">
                                <span class="info-icon">üìã</span>
                                <div class="info-content">
                                    <strong>Copy & Paste</strong>
                                    <p>Simply copy your save code and paste it on any device to transfer your progress instantly!</p>
                                </div>
                            </div>
                            <div class="info-card">
                                <span class="info-icon">üîÑ</span>
                                <div class="info-content">
                                    <strong>Fresh Start</strong>
                                    <p>Reset everything to start over. Make sure to export a backup first if you want to keep your progress!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="game-screen hidden">
            <div class="game-header">
                <button id="back-btn" class="back-btn">‚Üê Back to Menu</button>
                <div class="game-title" id="current-game-title"></div>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
            </div>

            <div class="game-content">
                <!-- Character Recognition Game -->
                <div id="character-recognition-game" class="game-mode hidden">
                    <!-- Options Panel -->
                    <div id="character-options-panel" class="options-panel">
                        <h4>Practice Options</h4>
                        
                        <div class="option-group">
                            <label>Game Mode:</label>
                            <select id="char-game-mode">
                                <option value="standard">Standard (Zhuyin ‚Üí Character)</option>
                                <option value="reverse">Reverse (Character ‚Üí Meaning)</option>
                                <option value="audio">Audio (Sound ‚Üí Character)</option>
                                <option value="meaning">Meaning Only (English ‚Üí Character)</option>
                                <option value="mixed" selected>Mixed Practice (Challenging)</option>
                            </select>
                        </div>

                        <div class="option-group">
                            <label>Question Type:</label>
                            <select id="char-question-type">
                                <option value="multiple-choice">Multiple Choice</option>
                                <option value="text-input">Text Input</option>
                                <option value="true-false">True/False</option>
                            </select>
                        </div>

                        <div class="option-group">
                            <label>Difficulty:</label>
                            <select id="char-difficulty">
                                <option value="easy">Foundation (4 choices)</option>
                                <option value="medium">Developing (6 choices)</option>
                                <option value="hard" selected>Proficient (8 choices)</option>
                                <option value="expert">Expert (10 choices)</option>
                                <option value="master">Master (12 choices)</option>
                                <option value="grandmaster">Grandmaster (15 choices)</option>
                                <option value="legendary">Legendary (18 choices)</option>
                                <option value="mythical">Mythical (20 choices)</option>
                                <option value="custom">Custom (choose your own)</option>
                            </select>
                        </div>

                        <div class="option-group" id="custom-choices-group" style="display: none;">
                            <label>Custom Number of Choices:</label>
                            <input type="number" id="custom-choices" min="3" max="25" value="8" />
                            <div class="difficulty-warning">‚ö†Ô∏è More than 15 choices = Extreme Challenge!</div>
                        </div>

                        <div class="option-group">
                            <label>Character Type:</label>
                            <select id="char-type-filter">
                                <option value="all">All Characters</option>
                                <option value="single">Single Characters Only</option>
                                <option value="compound">Compound Words Only</option>
                            </select>
                        </div>

                        <div class="option-group checkbox-group">
                            <label>
                                <input type="checkbox" id="char-timer-mode" checked> Timer Mode (5-25 seconds based on difficulty)
                            </label>
                            <label>
                                <input type="checkbox" id="char-hint-mode"> Hint System (reduces points)
                            </label>
                            <label>
                                <input type="checkbox" id="char-audio-mode"> Audio Support
                            </label>
                        </div>

                        <button id="start-char-practice" class="start-practice-btn">Start Practice</button>
                    </div>

                    <!-- Game Content -->
                    <div id="character-game-content" class="game-content-section hidden">
                        <div class="game-header">
                            <div class="timer-display" id="char-timer" style="display: none;">30</div>
                            <div class="question-counter" id="char-question-counter">Question 1 of 10</div>
                            <button id="char-hint-btn" class="hint-btn" style="display: none;">üí° Hint</button>
                            <button id="char-skip-btn" class="skip-btn">Skip ‚è≠Ô∏è</button>
                        </div>

                        <div class="question-section">
                            <div class="question-display" id="char-question-display"></div>
                            <div class="hint-area" id="char-hint-area" style="display: none;"></div>
                            <button id="char-audio-btn" class="audio-btn" style="display: none;">üîä Play Audio</button>
                        </div>

                        <div class="answer-section">
                            <!-- Multiple Choice Options -->
                            <div class="options-grid" id="character-options" style="display: none;"></div>
                            
                            <!-- Text Input -->
                            <div id="char-text-input-section" style="display: none;">
                                <input type="text" id="char-text-input" placeholder="Type your answer here..." />
                                <button id="char-submit-text">Submit</button>
                            </div>
                            
                            <!-- True/False -->
                            <div id="char-true-false-section" style="display: none;">
                                <div class="true-false-statement" id="char-tf-statement"></div>
                                <div class="true-false-buttons">
                                    <button id="char-true-btn" class="tf-btn true">True Ê≠£Á¢∫</button>
                                    <button id="char-false-btn" class="tf-btn false">False ÈåØË™§</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vocabulary Builder Game -->
                <div id="vocabulary-builder-game" class="game-mode hidden">
                    <div class="question-section">
                        <div class="word-display" id="vocab-question"></div>
                        <div class="translation-type" id="translation-direction"></div>
                    </div>
                    <div class="options-grid" id="vocab-options"></div>
                </div>

                <!-- Zhuyin Practice Game -->
                <div id="zhuyin-practice-game" class="game-mode hidden">
                    <div class="question-section">
                        <div class="character-display" id="zhuyin-character-question"></div>
                        <div class="meaning-display" id="zhuyin-character-meaning"></div>
                    </div>
                    <div class="input-section">
                        <input type="text" id="zhuyin-input" placeholder="Click buttons or type zhuyin (Ê≥®Èü≥)..." autocomplete="off" readonly>
                        <button id="backspace-zhuyin" class="backspace-btn">‚å´</button>
                        <button id="clear-zhuyin" class="clear-btn">Clear</button>
                        <button id="submit-zhuyin" class="submit-btn">Submit</button>
                    </div>
                    <div class="zhuyin-keyboard">
                        <div class="keyboard-section">
                            <div class="section-title">ËÅ≤ÊØç (Initials)</div>
                            <div class="zhuyin-buttons initials">
                                <button class="zhuyin-btn" data-zhuyin="„ÑÖ">„ÑÖ</button>
                                <button class="zhuyin-btn" data-zhuyin="„ÑÜ">„ÑÜ</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñá">„Ñá</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñà">„Ñà</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñâ">„Ñâ</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñä">„Ñä</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñã">„Ñã</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñå">„Ñå</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñç">„Ñç</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñé">„Ñé</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñè">„Ñè</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñê">„Ñê</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñë">„Ñë</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñí">„Ñí</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñì">„Ñì</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñî">„Ñî</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñï">„Ñï</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ññ">„Ññ</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñó">„Ñó</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñò">„Ñò</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñô">„Ñô</button>
                            </div>
                        </div>
                        <div class="keyboard-section">
                            <div class="section-title">ÈüªÊØç (Finals)</div>
                            <div class="zhuyin-buttons finals">
                                <button class="zhuyin-btn" data-zhuyin="„Ñö">„Ñö</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñõ">„Ñõ</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñú">„Ñú</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñù">„Ñù</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñû">„Ñû</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñü">„Ñü</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ†">„Ñ†</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ°">„Ñ°</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ¢">„Ñ¢</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ£">„Ñ£</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ§">„Ñ§</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ•">„Ñ•</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ¶">„Ñ¶</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñß">„Ñß</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ®">„Ñ®</button>
                                <button class="zhuyin-btn" data-zhuyin="„Ñ©">„Ñ©</button>
                            </div>
                        </div>
                        <div class="keyboard-section">
                            <div class="section-title">ËÅ≤Ë™ø (Tones) & Á©∫Ê†º (Space)</div>
                            <div class="zhuyin-buttons tones">
                                <button class="zhuyin-btn tone-btn" data-zhuyin="">‰∏ÄËÅ≤</button>
                                <button class="zhuyin-btn tone-btn" data-zhuyin="Àä">‰∫åËÅ≤ Àä</button>
                                <button class="zhuyin-btn tone-btn" data-zhuyin="Àá">‰∏âËÅ≤ Àá</button>
                                <button class="zhuyin-btn tone-btn" data-zhuyin="Àã">ÂõõËÅ≤ Àã</button>
                                <button class="zhuyin-btn tone-btn" data-zhuyin="Àô">ËºïËÅ≤ Àô</button>
                                <button class="zhuyin-btn space-btn" data-zhuyin=" ">Space</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stroke Order Game -->
                <div id="stroke-order-game" class="game-mode hidden">
                    <div class="stroke-practice" id="stroke-area">
                        <!-- Tutorial content will be dynamically generated here -->
                    </div>
                </div>

                <!-- Sentence Scramble Game -->
                <div id="sentence-scramble-game" class="game-mode hidden">
                    <div class="question-section">
                        <div class="scrambled-sentence-container">
                            <div class="english-hint" id="english-hint"></div>
                            <div class="audio-controls">
                                <button id="play-audio-btn" class="audio-btn">üîä Listen</button>
                                <button id="show-zhuyin-btn" class="audio-btn">Ê≥®Èü≥</button>
                            </div>
                            <div class="zhuyin-display hidden" id="zhuyin-hint"></div>
                        </div>
                    </div>
                    <div class="scramble-area">
                        <div class="word-bank" id="word-bank">
                            <div class="bank-title">Word Bank</div>
                            <div class="words-container" id="words-container"></div>
                        </div>
                        <div class="sentence-builder" id="sentence-builder">
                            <div class="builder-title">Build the sentence:</div>
                            <div class="sentence-slots" id="sentence-slots"></div>
                            <button id="check-sentence-btn" class="submit-btn">Check Sentence</button>
                        </div>
                    </div>
                </div>
                
                <!-- Similar Characters Game -->
                <div id="similar-characters-game" class="game-mode hidden">
                    <div class="similar-chars-content">
                        <div class="comparison-section">
                            <div class="chars-comparison" id="chars-comparison">
                                <!-- Character comparison will be populated here -->
                            </div>
                        </div>
                        
                        <div class="differences-section">
                            <div class="differences-explanation" id="differences-explanation">
                                <!-- Differences explanation will be populated here -->
                            </div>
                        </div>
                        
                        <div class="quiz-section" id="quiz-section">
                            <!-- Quiz questions will be populated here -->
                        </div>
                        
                        <div class="similar-chars-controls">
                            <button id="show-explanation-btn" class="similar-btn explanation-btn">üí° Show Explanation</button>
                            <button id="next-comparison-btn" class="similar-btn next-btn">‚û°Ô∏è Next Comparison</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="game-footer">
                <div class="feedback" id="feedback"></div>
                <button id="next-question" class="next-btn hidden">Next Question</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="results-screen hidden">
            <div class="results-content">
                <h2>Game Complete!</h2>
                <div class="final-score">
                    <div class="score-item">
                        <span class="label">Final Score:</span>
                        <span class="value" id="final-score">0</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Accuracy:</span>
                        <span class="value" id="accuracy">0%</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Best Streak:</span>
                        <span class="value" id="best-streak">0</span>
                    </div>
                </div>
                <div class="achievements" id="achievements"></div>
                <div class="action-buttons">
                    <button id="play-again-btn" class="play-again-btn">Play Again</button>
                    <button id="menu-btn" class="menu-btn">Back to Menu</button>
                </div>
            </div>
        </div>
    </div>

    <script src="gameData.js"></script>
    <script src="script.js"></script>
</body>
</html> 